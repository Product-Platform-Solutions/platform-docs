---
slug: session-2-aws-deployment
title: "Day 2: Moving to AWS and Getting HTTPS"
authors: [{name: "Ananga M Chatterjee", title: "Platform Engineer"}]
tags: [aws, traefik, https, keycloak, react]
---

## What We Did

Migrated from GitHub Codespaces to AWS EC2 and set up production-grade HTTPS infrastructure.

### Accomplished
- Signed up for AWS Free Tier
- Launched EC2 t3.micro instance (Ubuntu 24.04)
- Installed Docker and Docker Compose on server
- Set up Traefik v2.11 as reverse proxy
- Configured Let's Encrypt staging certificates
- Deployed full stack: Traefik + Keycloak + PostgreSQL + Nginx
- Built React + Vite + TypeScript frontend
- Integrated Keycloak JS for OIDC authentication
- Got SSO login working: `https://app.3.25.125.195.sslip.io`
- Added 2GB swap file (npm install was hanging)

### Issues Encountered
- Oracle Cloud signup blocked by fraud detection — moved to AWS
- Let's Encrypt rate limit on nip.io and sslip.io — switched to staging
- Keycloak HTTPS required error — fixed with `KC_PROXY: edge`
- npm install hanging — fixed with swap file
- Keycloak client needed public mode for React SPA

### Key Achievement
Full SSO login working on real HTTPS:
1. Visit `https://app.3.25.125.195.sslip.io`
2. Click "Login with SSO"
3. Redirect to Keycloak login page
4. Login with testuser/Test@1234
5. Redirect back showing username, email, roles from JWT

### Architecture Established
```
Internet → Traefik (HTTPS) → Nginx (React) 
                           → Keycloak (IAM)
                           → PostgreSQL (DB)
```
